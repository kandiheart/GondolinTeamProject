@using GondolinWeb.Areas.Application.Models
@model IEnumerable<GondolinWeb.Areas.Application.Models.Task>
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers


<div class="container m-auto">
    <table class="table table-sm table-color rounded-3 overflow-hidden table-hover">
        <thead>
            <tr>
                <th class="ps-3">
                @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                @Html.DisplayNameFor(model => model.Description)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td colspan="3">@await Html.PartialAsync("~/Areas/Application/Views/Shared/_QuickListCreatePartial.cshtml", new GondolinWeb.Areas.Application.Models.Task())</td>
            </tr>
                @if (Model != null)
                {
                    @foreach (var item in Model)
                    {
                        @if (item != null)
                        {
                            <tr>
                            <td class="ps-3">
                                    @Html.DisplayFor(modelItem => item.Name)
                                </td>
                            <td>
                                    @Html.DisplayFor(modelItem => item.Description)
                                </td>
                                <td>
                                    <a class="btn btn-sm btn-outline-primary" asp-action="MarkComplete" asp-route-id="@item.Id">Complete Task</a>
                                </td>
                            </tr>
                        }
                    }
                }
                else
                {
                    <tr class="text-center">No Items in Quick List</tr>
                }
        </tbody>                
    </table>
</div>